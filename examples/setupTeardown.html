<!doctype html>
<html>
	<head>
		<title>Setup & Teardown</title>
		<!-- <script src="../Simple.js"></script> -->
		<script src="../src/Global.js"></script>
		<script src="../src/Test.js"></script>
		<script src="../src/Context.js"></script>
		<script>

			var context = new Simple.Context("Modifying x", function() {
				this.x = undefined;
			});

			context.setup = function() {
				this.x = 5;
			}
			
			//Add tests to the context
			context.add(
				new Simple.Test("x should be 5", function() {
					return this.x == 5;
				}),
				new Simple.Test("When adding 3, x should be 8", function() {
					this.x += 3;
					return this.x == 8;
				}),
				new Simple.Test("When subtracting 4, x should be 1", function() {
					this.x -= 4;
					return this.x == 1;
				})
			);

		</script>
	</head>
	<body>
		<h1>Scoped tests</h1>
		<script>
			context.run();

			var results = context.getResults();
			document.write(context.name);
			for(var i in results)
				document.write("<br/>"+i+": "+results[i])
		</script>
	</body>
</html>
