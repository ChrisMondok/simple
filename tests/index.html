<!doctype html>
<html>
	<head>
		<title>The Meta Tests</title>
		<link rel="stylesheet" href="tests.css"/>
		<script src="../Simple.js"></script>
		<script src="TestObject.js"></script>
		<script src="ConcerningSimple.js"></script>
		<script src="ConcerningScope.js"></script>
		<script src="ConcerningSetup.js"></script>
		<script src="ConcerningContexts.js"></script>
		<script>
			function runTests() {
				var contexts = [frameworkTestContext, testsWithScope, testsWithSetupAndTeardown, contextTests];
				for(var i in contexts)
				{
					contexts[i].run();
					renderContext(contexts[i]);
				}
			}

			function renderContext(context)
			{
				var section = document.createElement('section');
				var header = document.createElement('header');
				header.innerText = context.name;
				section.appendChild(header);

				var table = document.createElement('table');

				var results = context.getResults();
				for(var test in results)
				{
					var row = document.createElement('tr');

					var name = document.createElement('td');
					name.innerText = test;

					var result = document.createElement('td')
					result.innerText = results[test];
					result.className = "test-result "+results[test];

					row.appendChild(result);
					row.appendChild(name);
					table.appendChild(row);
				}
				section.appendChild(table);
				document.body.appendChild(section);
			}

			window.addEventListener('load',runTests);

		</script>
	</head>
	<body>
		<h1>Meta: testing the tests</h1>
	</body>
</html>
